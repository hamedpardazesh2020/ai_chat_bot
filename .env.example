# Application configuration example
# Copy this file to `.env` to override values from `config/app.config.yaml` when needed.
# The service automatically loads `config/app.config.yaml` if present, so most
# deployments can avoid exporting sensitive variables during Docker builds.

# Security
ADMIN_TOKEN=change-me

# Provider routing
# The service accepts either OPENROUTER_KEY or OPENROUTER_API_KEY. Set one of
# them with your real key so the OpenRouter backend can authenticate.
DEFAULT_PROVIDER=openrouter
OPENROUTER_KEY=your-openrouter-key
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_MODEL=openrouter/auto
MCP_SERVER_URL=
MCP_API_KEY=
# Path to an mcp_agent.config.yaml file that declares MCP servers
MCP_AGENT_CONFIG=
# Comma separated list of MCP server names to aggregate (e.g. "filesystem,fetch")
MCP_AGENT_SERVERS=
# Optional overrides for the embedded MCP agent
MCP_AGENT_APP_NAME=chat-backend
MCP_AGENT_INSTRUCTION=
MCP_AGENT_LLM=openrouter
MCP_AGENT_MODEL=

# Persistence
REDIS_URL=redis://localhost:6379/0

# History storage (set HISTORY_STORAGE_BACKEND to none, mysql, mongodb, or redis)
HISTORY_STORAGE_BACKEND=none
HISTORY_NAMESPACE=chat_history
HISTORY_MYSQL_HOST=localhost
HISTORY_MYSQL_PORT=3306
HISTORY_MYSQL_USER=
HISTORY_MYSQL_PASSWORD=
HISTORY_MYSQL_DATABASE=
HISTORY_MYSQL_SESSION_TABLE=chat_sessions
HISTORY_MYSQL_MESSAGE_TABLE=chat_messages
HISTORY_MONGODB_URI=mongodb://localhost:27017
HISTORY_MONGODB_DATABASE=chat_history
HISTORY_MONGODB_SESSION_COLLECTION=chat_sessions
HISTORY_MONGODB_MESSAGE_COLLECTION=chat_messages
HISTORY_REDIS_URL=

# Rate limiting
RATE_RPS=2
RATE_BURST=5

# Session memory
MEMORY_DEFAULT=10
MEMORY_MAX=50

# Observability
METRICS_ENABLED=true
LOG_LEVEL=INFO
PROVIDER_TIMEOUT_SECONDS=30

# Optional path to a YAML config file for advanced deployments. When unset the
# loader searches for `config/app.config.yaml` (or `.yml`).
# APP_CONFIG_FILE=/etc/chat-agent/config.yaml
