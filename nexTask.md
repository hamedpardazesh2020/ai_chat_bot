# Next Tasks

1. **پوشش تست برای مسیرهای ادمین بای‌پس ریت‌لیمیت** – فایل `app/admin.py` شامل اعتبارسنجی توکن و مدیریت لیست بای‌پس است اما هیچ تستی برای سناریوهای موفق و خطای آن نوشته نشده. برای این روتر تست‌های API بنویسید تا احراز هویت، اضافه/حذف و لیست‌گیری به‌درستی بررسی شوند.
2. **مدیریت چرخه‌ی عمر کلاینت‌های Provider** – پیاده‌سازی‌های `OpenAIChatProvider`، `OpenRouterChatProvider` و `MCPChatProvider` متد `aclose` دارند اما `create_app` هیچ رویداد shutdownای برای بستن این کلاینت‌ها تعریف نمی‌کند. روال‌های startup/shutdown اضافه کنید تا هنگام ثبت Providerها، منابع شبکه‌ای آنها به شکل ایمن آزاد شوند.
3. **نمایش وضعیت متریک‌ها در خروجی سلامت** – اکنون که `/metrics` می‌تواند غیرفعال شود، بهتر است پاسخ `GET /health` نیز وضعیت فعلی متریک‌ها (فعال/غیرفعال) را گزارش دهد تا تیم عملیات بدون مراجعه به تنظیمات از این موضوع مطلع شود.
